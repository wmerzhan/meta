# Task 12：AI 模拟用户测试 - 完整执行指南

<!-- Powered by Quinn (Test Architect) -->

## 📋 任务概览

**目标:** 使用 Claude Code 模拟 2 个天真用户（没接触过 MAestro 的研究人员），仅使用 `docs/quickstart.md` 完成整个工作流，验证 Story 3.1 是否满足 NFR4（45 分钟完成）。

**预期成果:**
- ✅ 通过报告（2 个用户都 <45 分钟完成，无阻塞错误）→ **Story 3.1 PASS，进入 Task 13**
- ❌ 失败报告（用户超时或阻塞错误）→ **改进指南，重新测试**

**预计工作量:** 3-4 小时

---

## 🎯 操作指令

### **第一步：准备测试环境 (15 分钟)**

#### 1.1 验证必要文件存在

```bash
# 在项目根目录运行，确认这些文件存在：
ls docs/quickstart.md
ls examples/e2e_test_meta_analysis/
ls docs/case-studies/e2e_workflow_example.md
```

#### 1.2 创建测试结果目录

```bash
mkdir -p tests/validation/task-12-results
cd tests/validation/task-12-results
```

#### 1.3 创建结果记录模板

在 `tests/validation/task-12-results/` 下创建 3 个文件：
- `user-a-log.md` - 用户 A 的测试日志
- `user-b-log.md` - 用户 B 的测试日志
- `summary-report.md` - 最终总结报告

---

### **第二步：执行用户 A 模拟测试 (60 分钟)**

#### 2.1 打开 Claude Code

```
命令: claude code
或在 IDE 中打开 Claude Code 侧面板
```

#### 2.2 加载快速指南

```
1. 点击"文件"→ 打开
2. 选择: docs/quickstart.md
3. 全选 (Ctrl+A) 并复制内容到 Claude Code
```

#### 2.3 粘贴以下提示词到 Claude Code

```
---
【重要说明：你现在要扮演一个真实的用户，严格按照流程执行】

你是一位医学研究员，具有以下背景：
- 从未使用过 MAestro 工具
- 有医学背景，能理解研究概念
- 是一个聪慧的初学者，但缺乏工具经验
- 遇到不清楚的地方，会说出来

你现在需要完成一个完整的 Meta 分析工作流。

重要规则：
1. 【必须】仅使用下面提供的 quickstart.md 文档，不能查询其他资源
2. 【必须】按照文档的步骤逐个执行
3. 【必须】记录每个步骤的时间（从现在开始计时）
4. 【必须】遇到任何不理解的地方，立即标记为 [🤔 困惑]
5. 【必须】遇到任何错误或无法执行的地方，立即标记为 [❌ 错误]
6. 【必须】每个步骤完成后，说 "✅ 完成：[步骤名]，耗时 X 分钟"
7. 【必须】最后总结你的理解和问题

开始计时... (记录开始时间: 现在)

---

## 快速指南内容：

[这里粘贴 docs/quickstart.md 的完整内容]

---

## 现在开始执行：

请按照上面快速指南的步骤，一步一步地完成以下任务：

### 阶段 1：项目设置 (预计 5 分钟)
- 创建项目目录结构
- 设置数据卡片目录
- 验证工具可用性

【执行...】

---

### 阶段 2：研究问题选择 (预计 5 分钟)
- 选择研究问题（使用食管癌案例）
- 理解研究问题的含义
- 记录你的理解

【执行...】

---

### 阶段 3：论文选择 (预计 5 分钟)
- 选择 5 篇论文（从案例中）
- 理解选择标准
- 记录你对论文的认识

【执行...】

---

### 阶段 4：Microscope 数据提取 (预计 15 分钟)
- 理解 Microscope 的用途
- 复制第一篇论文的提示词
- 理解 3 色标签系统 (🟢🟡🔴)
- 说出你对 3 色标签的理解
- 预估提取 5 篇论文需要的时间

【执行...】

---

### 阶段 5：Compiler 编译 (预计 5 分钟)
- 理解 Compiler 的作用
- 理解数据卡片如何编译成 CSV
- 理解数据质量指标的含义

【执行...】

---

### 阶段 6：Oracle 分析 (预计 5 分钟)
- 理解 Oracle 如何工作
- 理解 3 个关键研究问题：
  1. "什么是池化效应量？"
  2. "什么是异质性？"
  3. "为什么 I² 值重要？"
- 说出你对这些概念的理解

【执行...】

---

### 阶段 7：结果解释 (预计 5 分钟)
- 理解 HR 2.94 的含义
- 理解 I² 62.5% 意味着什么
- 理解三色数据质量的影响

【执行...】

---

## 最后评估：

现在请回答以下问题：

**理解验证：**
1. ✅ 你能解释什么是池化效应量吗？ (用你自己的话)
2. ✅ 你能解释什么是异质性（I²）吗？ (用你自己的话)
3. ✅ 你能解释三色标签系统吗？ (🟢绿=?, 🟡黄=?, 🔴红=?)
4. ✅ 你能解释 HR 2.94 的含义吗？

**工作流完成度：**
- 是否完成了所有 7 个阶段？ (是/否)
- 是否遇到阻塞错误？ (是/否，如果是请列出)
- 总耗时多少分钟？

**改进建议：**
- 快速指南中最让你困惑的 3 个地方是什么？
- 快速指南缺少什么内容？
- 快速指南应该如何改进？

**困惑点总结：**
[列出所有标记为 [🤔 困惑] 的地方]

---

现在开始执行吧！ 🚀

```

#### 2.4 等待用户 A 完成并记录结果

**开发人员需要做的：**
1. 让 Claude Code 完成上面的流程
2. 实时监控并记录：
   - 困惑点（[🤔 困惑] 标记的内容）
   - 错误（[❌ 错误] 标记的内容）
   - 每个阶段的耗时
   - 最后的总耗时

3. 将所有结果复制到 `tests/validation/task-12-results/user-a-log.md`

**格式：**
```markdown
# 用户 A 测试日志

## 基本信息
- 测试日期: [日期]
- 开始时间: [时间]
- 结束时间: [时间]
- 总耗时: [XX 分钟]

## 执行过程记录

### 阶段 1: 项目设置
- 状态: ✅ 完成
- 耗时: 5 分钟
- 困惑点: 无
- 注记: ...

### 阶段 2: 研究问题选择
- 状态: ✅ 完成
- 耗时: 6 分钟
- 困惑点: 不太理解"pooled effect"的概念
- 注记: ...

[继续记录其他阶段...]

## 理解验证

**问题 1: 你能解释什么是池化效应量吗？**
用户回答: ...
评分: ✅ 正确 / ❌ 不正确 / 🟡 部分正确

[继续记录其他问题...]

## 总体评估
- 完成度: ✅ 100% / 🟡 部分 / ❌ 失败
- 阻塞错误: 无 / [列出错误]
- 困惑点数: X 个
- 改进建议: [列出]

## 最终判定
- **状态**: ✅ PASS (耗时 38 分钟 < 45 分钟)
  或 ❌ FAIL (耗时 52 分钟 > 45 分钟)
```

---

### **第三步：执行用户 B 模拟测试 (60 分钟)**

#### 3.1 重复第二步的全部流程

**关键：用户 B 的提示词需要修改一个地方**

将第 2.3 步的提示词中的这一行：
```
你是一位医学研究员，具有以下背景：
```

改成：
```
你是另一位医学研究员（不同的人），具有以下背景：
```

这样确保用户 B 的测试是独立的，不受用户 A 的影响。

#### 3.2 记录用户 B 的结果

保存到 `tests/validation/task-12-results/user-b-log.md`

（格式与用户 A 相同）

---

### **第四步：生成最终总结报告 (30 分钟)**

#### 4.1 创建 `summary-report.md`

```markdown
# Task 12 模拟用户测试最终报告

## 🎯 测试目标
验证 Story 3.1（快速入门指南）是否满足 NFR4：新用户 45 分钟内完成工作流。

## 📊 核心测试结果

### 用户 A
| 指标 | 目标 | 实际 | 状态 |
|---|---|---|---|
| 完成时间 | <45 分钟 | XX 分钟 | ✅/❌ |
| 完成度 | 100% | XX% | ✅/🟡/❌ |
| 阻塞错误 | 0 个 | X 个 | ✅/❌ |
| 理解 HR 概念 | 正确 | [用户回答] | ✅/🟡/❌ |
| 理解 I² 概念 | 正确 | [用户回答] | ✅/🟡/❌ |
| 理解 3 色系统 | 正确 | [用户回答] | ✅/🟡/❌ |

### 用户 B
[相同的表格]

## ✅ 整体通过/失败判定

### PASS 条件
- [ ] 用户 A 耗时 < 45 分钟 且完成 100%
- [ ] 用户 B 耗时 < 45 分钟 且完成 100%
- [ ] 两个用户都理解核心概念（HR、I²、3色）
- [ ] 困惑点 ≤ 3 个
- [ ] 无致命阻塞错误

### 最终判定
**总体评分: PASS ✅ / FAIL ❌**

---

## 🔍 问题分析

### 用户 A 遇到的问题
1. [问题 1]: ... → **严重程度: 低/中/高** → **建议修复: [方案]**
2. [问题 2]: ... → ...

### 用户 B 遇到的问题
1. [问题 1]: ... → ...

### 共性问题（两个用户都遇到的）
1. [共性问题 1]: ... → **优先级: 高** → **必须修复**

### 独有问题（只有一个用户遇到的）
1. [用户 A 独有]: ... → **优先级: 中/低**

---

## 📈 按阶段的耗时分析

| 阶段 | 用户 A | 用户 B | 平均 | 预期 | 状态 |
|---|---|---|---|---|---|
| 1. 项目设置 | 5 分钟 | 4 分钟 | 4.5 | 5 | ✅ |
| 2. 研究问题 | 6 分钟 | 7 分钟 | 6.5 | 5 | 🟡 |
| 3. 论文选择 | 5 分钟 | 5 分钟 | 5 | 5 | ✅ |
| 4. Microscope | 15 分钟 | 16 分钟 | 15.5 | 15 | ✅ |
| 5. Compiler | 4 分钟 | 5 分钟 | 4.5 | 5 | ✅ |
| 6. Oracle | 6 分钟 | 7 分钟 | 6.5 | 5 | 🟡 |
| 7. 解释 | 5 分钟 | 6 分钟 | 5.5 | 5 | ✅ |
| **总计** | **42 分钟** | **45 分钟** | **43.5** | **45** | **✅** |

---

## 💡 改进清单

### 如果 PASS ✅
- [ ] 无需改进，进入 Task 13（最终发布）
- [ ] 可选：根据用户反馈做小幅优化

### 如果 FAIL ❌（需要修复后重新测试）

#### 高优先级（必须修复）
- [ ] [问题 1]: ... → 修复方案: ...
  - 文件: docs/quickstart.md
  - 改动: [具体改动内容]
  - 验证方法: [如何验证修复有效]

- [ ] [问题 2]: ...

#### 中优先级（应该修复）
- [ ] [问题 3]: ...

#### 低优先级（可选）
- [ ] [问题 4]: ...

---

## 🔄 后续行动

### 如果 PASS ✅
```
Task 12 完成 ✅
    ↓
执行 Task 13: 最终验证和发布
    ├─ 验证代码片段可运行
    ├─ 验证文档链接有效
    ├─ 验证 emoji 显示正常
    └─ 发布 docs/quickstart.md
    ↓
Story 3.1 → READY FOR DONE ✅
```

### 如果 FAIL ❌
```
Task 12 失败 ❌
    ↓
修改 docs/quickstart.md 根据改进清单
    ↓
重新执行 Task 12 验证
    ├─ 如果 PASS → 进入 Task 13
    └─ 如果仍 FAIL → 继续迭代
```

---

## 📝 完成签名

- 测试日期: [日期]
- 测试人: [开发人员名字]
- 最终判定: PASS ✅ / FAIL ❌
- 签名: _______________

---

## 附件

- [user-a-log.md] - 用户 A 完整日志
- [user-b-log.md] - 用户 B 完整日志

```

#### 4.2 合并两个用户的日志

在报告中总结：
- 共性问题
- 独有问题
- 困惑点汇总
- 改进建议汇总

---

### **第五步：判定与后续行动**

#### 5.1 如果 PASS ✅

```
✅ 用户 A: 42 分钟完成，理解正确，无阻塞错误
✅ 用户 B: 45 分钟完成，理解正确，无阻塞错误
✅ 总体评分: PASS

下一步:
1. 提交 summary-report.md
2. Story 3.1 QA gate 更新: PASS (from CONCERNS)
3. 执行 Task 13 最终发布
4. Story 3.1 → READY FOR DONE
```

#### 5.2 如果 FAIL ❌

```
❌ 原因: [耗时超过 45 分钟 / 理解有误 / 困惑点过多]

下一步:
1. 修改 docs/quickstart.md 根据改进清单
2. 重新执行 Task 12 用户 A 和 B
3. 如果 PASS 后续同上
4. 如果仍 FAIL → 继续迭代（最多 3 次）
```

---

## 🎯 验证清单（开发人员自查）

完成前请检查：

- [ ] 已创建 `tests/validation/task-12-results/` 目录
- [ ] 已生成 `user-a-log.md` 完整日志
- [ ] 已生成 `user-b-log.md` 完整日志
- [ ] 已生成 `summary-report.md` 最终报告
- [ ] 报告中明确标出 PASS ✅ 或 FAIL ❌
- [ ] 如果 FAIL，已列出具体改进清单
- [ ] 所有时间记录都准确（精确到分钟）
- [ ] 所有困惑点都被记录
- [ ] 所有错误都被分析

---

## 📞 如果遇到问题

### 问题 1: Claude Code 中文显示有问题
**解决:** 复制中文提示词时，使用 UTF-8 编码保存

### 问题 2: 时间计时不准
**解决:** 在 Claude Code 中明确说"从现在开始计时"，让 AI 记录 AI 自己认为的耗时

### 问题 3: 用户 B 的测试受到用户 A 的影响
**解决:** 启动新的 Claude Code 会话，完全清空上下文

### 问题 4: 不知道如何改进指南
**解决:** 联系 Quinn (Test Architect)，我会帮助分析改进方案

---

## ✅ 最终交付物

将以下文件提交到 Git：

```bash
git add tests/validation/task-12-results/
git add docs/qa/Task-12-AI-User-Simulation-Instructions.md
git commit -m "Task 12: Complete AI user simulation test - [PASS/FAIL]"
git push
```

---

**这就是完整的 Task 12 执行指南！开发人员可以直接按照这个流程操作。** 🚀

