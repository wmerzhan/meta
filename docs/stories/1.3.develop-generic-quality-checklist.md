# Story 1.3: Develop Generic Quality Assessment Checklist

<!-- Powered by BMAD™ Core -->

## Status

**Done**

## Story

**As a** researcher evaluating research paper quality,
**I want** a discipline-agnostic quality assessment framework that can be integrated into Microscope,
**so that** I can systematically evaluate study rigor and risk of bias even without access to specialized tools like RoB2 or Campbell checklists.

## Acceptance Criteria

1. Generic quality checklist created (`modules/generic/generic_quality_checklist.md`) covering fundamental methodological domains: selection bias, measurement validity, confounding control, attrition/missing data, reporting transparency
2. Checklist items are answerable from typical research paper content (not requiring supplementary materials or external knowledge)
3. Each checklist item includes guidance on what constitutes low/medium/high risk or quality rating
4. Checklist formatted for easy integration into Microscope prompt template (Story 1.4)
5. Documentation explains that discipline-specific modules (RoB2, Campbell, etc.) are Phase 2 additions, and generic checklist is MVP baseline
6. Checklist formatted for easy copy-paste modification by researchers needing custom criteria
7. Example quality assessment structure provided for reference

## Tasks / Subtasks

- [x] **Task 1: Create generic quality checklist file with methodological domains** (AC: 1, 2, 3)
  - [x] Create `modules/generic/` directory if it doesn't exist
  - [x] Create `modules/generic/generic_quality_checklist.md` file
  - [x] Add BMAD™ Core header comment
  - [x] Define checklist structure with version metadata (checklist version, creation date, compatible with Microscope v1.0)
  - [x] Add introduction section explaining purpose and scope of generic checklist
  - [x] Document that this is the MVP baseline for quality assessment
  - [x] Create **Selection Bias domain** section with checklist items:
    - Sampling method appropriateness
    - Participant recruitment transparency
    - Inclusion/exclusion criteria clarity
    - Selection process documentation
  - [x] Create **Measurement Validity domain** section with checklist items:
    - Outcome measure validation status
    - Measurement instrument reliability
    - Blinding/masking of assessors
    - Measurement timing appropriateness
  - [x] Create **Confounding Control domain** section with checklist items:
    - Baseline group comparability
    - Control for known confounders
    - Statistical adjustment methods
    - Randomization quality (if applicable)
  - [x] Create **Attrition/Missing Data domain** section with checklist items:
    - Dropout rates reported
    - Attrition analysis provided
    - Missing data handling transparency
    - Differential attrition assessment
  - [x] Create **Reporting Transparency domain** section with checklist items:
    - Methods section completeness
    - Results reporting clarity
    - Statistical details provided
    - Conflicts of interest disclosed
  - [x] For each checklist item, include guidance on Low/Medium/High risk or quality ratings

- [x] **Task 2: Format checklist for Microscope integration** (AC: 4, 6)
  - [x] Use clear markdown structure (headings, bullet points) that's easy to copy into prompts
  - [x] Ensure checklist items are written as questions that can be answered from paper content
  - [x] Format rating guidance in consistent structure (e.g., "Low Risk: ..., Medium Risk: ..., High Risk: ...")
  - [x] Add inline comments explaining how to modify checklist for custom needs
  - [x] Include section explaining how to integrate this checklist into Microscope prompt (Story 1.4)
  - [x] Test that checklist can be easily copy-pasted without formatting issues

- [x] **Task 3: Add documentation about discipline-specific modules** (AC: 5)
  - [x] Create "About This Checklist" section explaining generic vs. specialized checklists
  - [x] Document that RoB2 (Cochrane Risk of Bias 2), Campbell, GRADE, and other specialized tools are Phase 2 additions
  - [x] Explain when researchers should use generic checklist vs. wait for discipline-specific modules
  - [x] Reference `modules/rob2/` directory structure as placeholder for future additions
  - [x] Note that generic checklist is designed for cross-disciplinary meta-analyses

- [x] **Task 4: Create example quality assessment structure** (AC: 7)
  - [x] Add "Example Assessment" section at end of checklist document
  - [x] Provide realistic example showing how to apply checklist to a hypothetical paper
  - [x] Demonstrate how to rate each domain (Selection Bias: Medium Risk, Measurement: Low Risk, etc.)
  - [x] Show how ratings combine into overall quality score [Source: architecture/data-models.md#model-8-qualityassessment]
  - [x] Include example YAML structure showing how quality scores appear in data card:
    ```yaml
    quality_scores:
      checklist_module: "generic_v1.0"
      selection_bias: "medium"
      measurement_validity: "low"
      confounding_control: "low"
      attrition_missing_data: "high"
      reporting_transparency: "low"
      overall_quality: "medium"
    ```
  - [x] Add explanatory notes about the example assessment

- [x] **Task 5: Align checklist with DataCard and QualityAssessment models** (AC: 1, 4)
  - [x] Review QualityAssessment model requirements [Source: architecture/data-models.md#model-8-qualityassessment]
  - [x] Ensure checklist output format matches `scores: Dict[String, Any]` structure
  - [x] Ensure overall quality can be categorized as "high", "medium", or "low" per data model
  - [x] Verify checklist module naming convention: "generic_v1.0" format
  - [x] Document how checklist results populate `quality_scores` field in DataCard YAML frontmatter [Source: templates/data_card.md created in Story 1.2]

- [x] **Task 6: Manual validation and review**
  - [x] Verify all 5 methodological domains are covered comprehensively
  - [x] Check that all checklist items can be answered from typical research papers (no supplementary materials required)
  - [x] Confirm rating guidance (low/medium/high) is clear and actionable
  - [x] Test copy-paste functionality into prompt templates
  - [x] Review for clarity and accessibility to non-expert researchers
  - [x] Verify markdown formatting is correct and renders properly
  - [x] Check cross-platform compatibility (Windows/macOS/Linux line endings)
  - [x] Ensure example quality assessment is realistic and educational

## Dev Notes

### Story Context

**Story 1.3 builds on Story 1.2** by creating the **quality assessment framework** that will populate the `quality_scores` field in data cards. This checklist will be integrated into the Microscope prompt template in Story 1.4.

**Critical importance:** The quality checklist created in this story will be used by:
- **Story 1.4** - Microscope prompt will integrate this checklist to guide quality assessment
- **Story 1.2 data cards** - Checklist results populate the `quality_scores` YAML frontmatter field
- **Epic 2** - Compiler may aggregate quality scores for data quality reporting
- **Future Phase 2** - Generic checklist serves as template for discipline-specific modules (RoB2, Campbell)

### QualityAssessment Data Model [Source: architecture/data-models.md#model-8-qualityassessment]

**Model 8: QualityAssessment - Complete attribute specification:**

```yaml
# Required fields:
assessment_id: String           # Unique identifier for the assessment
data_card_id: String           # Links to the data card being assessed
checklist_module: String       # Name of checklist used (e.g., "generic_v1.0")
scores: Dict[String, Any]      # Domain scores (selection_bias: "low", etc.)
overall_quality: Enum["high", "medium", "low"]  # Overall quality rating

# Relationships:
# - QualityAssessment belongs to DataCard (1:1 relationship)
# - Referenced in DataCard.quality_scores field
```

**Key Requirements:**
- `checklist_module` must follow version naming convention: `generic_v1.0` format
- `scores` dictionary should contain domain-specific ratings from the checklist
- `overall_quality` must be one of three values: "high", "medium", or "low"
- Quality assessment data appears in DataCard YAML frontmatter

### Integration with DataCard Format [Source: Story 1.2 Implementation]

**From Story 1.2 - Data Card Template Structure:**

The data card template created in Story 1.2 includes a `quality_scores` field in the YAML frontmatter:

```yaml
quality_scores:              # Quality assessment results
  checklist_module: String   # Which checklist was used
  # Domain scores will be added here from generic checklist
  overall_quality: Enum["high", "medium", "low"]
```

**Critical Integration Point:** The generic checklist must produce output that can populate this structure. Each methodological domain should become a key in the `quality_scores` dictionary.

### Previous Story Insights from Story 1.2

**Key Learnings to Apply:**

1. **Inline Comments are Critical:** Story 1.2 demonstrated that extensive inline comments make templates self-service for researchers. Apply same approach to quality checklist.

2. **Example-Driven Documentation:** Story 1.2's sample data card was highly effective. Include realistic example quality assessment in this story.

3. **Version Metadata:** All templates need version tracking. Include version number, creation date in checklist metadata.

4. **Cross-Platform Compatibility:** Story 1.2 identified emoji rendering and line ending issues. Use standard markdown without special characters (except when necessary).

5. **Manual Validation Approach:** MVP testing philosophy is manual validation with checklists. No automated tests required for this documentation work.

6. **Educational Design:** Template should teach researchers how to assess quality, not just provide a checklist. Include guidance and rationale.

### Methodological Domains - Research Foundation

**The 5 domains selected are based on widely-accepted research quality frameworks:**

1. **Selection Bias:** Covers how participants were selected and whether selection could bias results (fundamental to internal validity)

2. **Measurement Validity:** Assesses whether outcomes were measured appropriately and reliably (critical for data quality)

3. **Confounding Control:** Evaluates whether alternative explanations were addressed (central to causal inference)

4. **Attrition/Missing Data:** Examines dropout patterns and missing data handling (affects statistical validity)

5. **Reporting Transparency:** Checks completeness of methodological and statistical reporting (enables reproducibility)

**Rationale for Generic Approach:**
- These domains apply across disciplines (psychology, medicine, education, etc.)
- Can be assessed from paper content alone (no external knowledge required)
- Provide baseline quality assessment until specialized tools added in Phase 2
- Cross-disciplinary meta-analyses need domain-agnostic assessment

### File Location and Naming [Source: architecture/source-tree.md]

**Module Storage Location:**
```
modules/                                # Discipline-specific quality checklists
├── generic/
│   └── generic_quality_checklist.md   # THIS STORY - Generic baseline checklist
└── rob2/
    └── rob2_checklist.md              # Phase 2 - Cochrane RoB2 tool
```

**Naming Convention:**
- File: `generic_quality_checklist.md`
- Checklist module identifier: `generic_v1.0` (for use in quality_scores.checklist_module field)
- Follow semantic versioning for future updates

### Integration with Microscope Prompt (Story 1.4)

**Design Consideration:** The checklist created in this story will be integrated into the Microscope prompt template in Story 1.4. Therefore:

- **Format for Copy-Paste:** Checklist should be easily extractable and insertable into prompt templates
- **Clear Question Structure:** Each item phrased as a question Claude can answer while reading a paper
- **Markdown Native:** Use standard markdown (headers, bullets) compatible with prompt templates
- **Standalone Sections:** Each domain should be self-contained for potential selective integration

**Example Integration Pattern (for Story 1.4 reference):**
```
## Quality Assessment

Please evaluate the study using the following criteria:

[Generic Quality Checklist will be inserted here]

For each domain, provide:
- Rating (Low/Medium/High risk)
- Justification with page/section references
- Overall quality assessment (High/Medium/Low)
```

### Rating Scale Guidance

**Standardized Rating Structure for Each Checklist Item:**

Each item should include guidance in this format:

- **Low Risk/High Quality:** [Description of what excellent practice looks like]
- **Medium Risk/Moderate Quality:** [Description of acceptable but imperfect practice]
- **High Risk/Low Quality:** [Description of concerning or missing practices]

**Overall Quality Synthesis:**
- **High Quality:** Most domains rated Low Risk, no High Risk domains
- **Medium Quality:** Mix of Low/Medium Risk, or one High Risk domain
- **Low Quality:** Multiple High Risk domains or critical flaws

### Technology Stack Implications [Source: architecture/tech-stack.md]

**For MVP (this story):**
- Pure markdown documentation - no code implementation
- Git version control for checklist versioning
- Standard markdown format compatible with MkDocs documentation site

**For CROS Phase (future):**
- PyYAML 6.0.1+: Will parse quality scores from data card YAML
- Pydantic 2.6+: Will validate quality assessment structure
- Python-markdown 3.6+: May parse checklist documentation

**Current Task:** Focus on creating human-readable, well-structured markdown checklist. No code or parsing logic needed in MVP.

### Coding Standards (Not Applicable for Documentation)

**Story 1.3 is pure documentation work.** No Python or TypeScript code required.

**Relevant Standards:**
- Use markdown best practices
- Follow Git-friendly formatting (LF line endings, consistent spacing)
- Include version metadata in checklist header

### Design Considerations

**1. Accessibility to Non-Experts:**
- Use plain language, avoid methodological jargon where possible
- Provide context for each domain (why it matters)
- Include examples of good vs. poor practices

**2. Cross-Disciplinary Applicability:**
- Avoid discipline-specific terminology (e.g., don't assume RCT design)
- Frame questions broadly (works for quantitative, qualitative, mixed methods)
- Focus on universal research quality principles

**3. Practical Usability:**
- Checklist should take <10 minutes to complete per paper
- Items should be answerable with "Yes/No/Unclear" or rating scales
- Guidance should be concise but actionable

**4. Forward Compatibility:**
- Generic checklist structure should serve as template for specialized modules
- Versioning allows evolution without breaking existing data cards
- Module naming convention supports multiple checklists (generic, RoB2, Campbell)

**5. Integration with Three-Color Labeling:**
- Quality assessment justifications should reference page numbers (🟢 direct evidence)
- When quality is unclear, use 🔴 labeling approach (flag uncertainty with explanation)
- Ratings based on inferences should note calculation/reasoning (🟡 pattern)

### Common Quality Assessment Scenarios

**Based on meta-analysis research workflows, checklist should handle:**

1. **Randomized Controlled Trials (RCTs):** Gold standard design with clear quality markers (randomization, blinding, etc.)
2. **Observational Studies:** More challenging quality assessment (confounding control critical)
3. **Mixed Methods Research:** Need to assess both quantitative and qualitative components
4. **Quasi-Experimental Designs:** Lack of randomization requires careful confounding assessment
5. **Single-Group Pre-Post Studies:** Weakest design, quality assessment focuses on reporting transparency

### Edge Cases to Address

**Missing Information Scenarios:**
- **Information not reported:** Rate as High Risk, note specific missing details
- **Partial reporting:** Rate as Medium Risk, note what's present and what's missing
- **Contradictory information:** Rate as High Risk, flag for manual review
- **Supplementary materials referenced:** Note that assessment is based on main paper only (AC #2 requirement)

### Deliverable Summary

By end of this story, the following file should exist:

1. `modules/generic/generic_quality_checklist.md` - Complete generic quality assessment checklist with:
   - 5 methodological domains (Selection Bias, Measurement Validity, Confounding Control, Attrition/Missing Data, Reporting Transparency)
   - 3-5 checklist items per domain (15-25 total items)
   - Clear Low/Medium/High risk guidance for each item
   - Documentation about MVP baseline and Phase 2 specialized modules
   - Example quality assessment demonstrating usage
   - Integration guidance for Microscope (Story 1.4)
   - Version metadata (v1.0, creation date, Microscope compatibility)

File should be committed to Git and ready for integration in Story 1.4.

### Testing

**MVP Phase Testing Philosophy:** [Source: architecture/test-strategy-and-standards.md]

For Story 1.3 (quality checklist creation):
- **No automated tests required** (testing begins in CROS Phase 1)
- **Manual validation checklist:**
  1. Verify all 5 methodological domains are included with appropriate coverage
  2. Check each checklist item is answerable from typical research paper content (no supplementary materials needed)
  3. Confirm Low/Medium/High risk guidance is clear and actionable for each item
  4. Test checklist formatting for easy copy-paste into prompt templates (no formatting issues)
  5. Verify markdown renders correctly (check with markdown preview or online validator)
  6. Review example quality assessment for realism and educational value
  7. Ensure checklist can be modified by researchers (clear structure, inline guidance for customization)
  8. Check cross-platform compatibility (line endings, character encoding)
  9. Validate that checklist output format matches QualityAssessment model requirements
  10. Verify version metadata is included (checklist version, creation date, compatible Microscope version)

**Validation Strategy for MVP:**
- Manual review of checklist completeness and usability
- Test checklist with 2-3 sample research papers from different disciplines
- Ensure ratings can be consistently applied across different study designs
- Verify output structure integrates with DataCard YAML frontmatter format

**No automated validation until CROS phase** when Pydantic schemas will validate quality assessment structure.

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-20 | 1.0 | Initial story creation with comprehensive dev notes and architecture integration | SM Agent (Bob) |
| 2025-10-20 | 1.1 | Story completed - Generic quality checklist created with 5 domains, 20 items, example assessment, and Microscope integration guidance | Dev Agent (James) |

## Dev Agent Record

### Agent Model Used

**Primary Model:** Claude Sonnet 4.5 (claude-sonnet-4-5-20250929)

### Debug Log References

No debugging required. Story completed without issues.

### Completion Notes

**Summary:**
Successfully created comprehensive generic quality assessment checklist for MAestro MVP. All 7 acceptance criteria met with deliverable exceeding expectations.

**Key Accomplishments:**
1. **Comprehensive Checklist Created** - 525-line markdown document with 5 methodological domains and 20 checklist items
2. **All Domains Implemented:**
   - Selection Bias (4 items)
   - Measurement Validity (4 items)
   - Confounding Control (4 items)
   - Attrition/Missing Data (4 items)
   - Reporting Transparency (4 items)
3. **Clear Rating Guidance** - Each item includes structured Low/Medium/High risk definitions
4. **Microscope Integration Ready** - Formatted for easy copy-paste into prompt templates (Story 1.4)
5. **Example Assessment Included** - Realistic mindfulness RCT example with full domain ratings and YAML output
6. **Phase 2 Roadmap Documented** - Clear guidance on future discipline-specific modules (RoB2, Campbell, GRADE, etc.)
7. **Customization Guide Provided** - Step-by-step instructions for researchers to adapt checklist

**Quality Validation Completed:**
- ✅ All 10 manual validation checklist items passed
- ✅ YAML format verified against DataCard template
- ✅ Cross-platform compatibility ensured
- ✅ Markdown structure tested for rendering

**Integration Points Verified:**
- ✅ Checklist module ID: `generic_v1.0` matches naming convention
- ✅ Domain scores align with QualityAssessment model `scores: Dict[String, Any]`
- ✅ Overall quality ratings use required enum: "high", "medium", "low"
- ✅ YAML frontmatter format compatible with DataCard template from Story 1.2

**Ready for Next Story:**
- Story 1.4 can integrate this checklist into Microscope prompt template
- Generic checklist serves as foundation for future discipline-specific modules

**No Issues or Blockers:** Story completed successfully on first iteration without errors or rework needed.

### File List

**Created:**
- `modules/generic/generic_quality_checklist.md` - Complete generic quality assessment checklist (525 lines)

**Modified:**
- `docs/stories/1.3.develop-generic-quality-checklist.md` - Updated with task completion, Dev Agent Record, and status change

## QA Results

### Review Date: 2025-10-20

### Reviewed By: Quinn (Test Architect)

### Code Quality Assessment

**Overall Assessment:** Exemplary documentation work. The generic quality checklist exceeds expectations in comprehensiveness, clarity, and usability. All acceptance criteria fully met with no issues identified.

**Documentation Quality:** ★★★★★
- Comprehensive coverage of 5 methodological domains with 20 total checklist items
- Clear, accessible language suitable for cross-disciplinary researchers
- Excellent integration guidance for downstream use (Story 1.4)
- Realistic example demonstrating practical application
- Proper version control and modification guidance

### Refactoring Performed

No refactoring performed. This is documentation-only work with no code implementation.

### Compliance Check

- **Coding Standards:** ✓ N/A (documentation only)
- **Project Structure:** ✓ File correctly placed in `modules/generic/`
- **Testing Strategy:** ✓ Manual validation completed per Task 6
- **All ACs Met:** ✓ All 7 acceptance criteria fully satisfied

### Requirements Traceability

**AC 1: Generic quality checklist with 5 domains** ✓
- File created: `modules/generic/generic_quality_checklist.md` (525 lines)
- All 5 domains implemented:
  - Selection Bias (4 items) - generic_quality_checklist.md:71-112
  - Measurement Validity (4 items) - generic_quality_checklist.md:115-156
  - Confounding Control (4 items) - generic_quality_checklist.md:159-201
  - Attrition/Missing Data (4 items) - generic_quality_checklist.md:204-245
  - Reporting Transparency (4 items) - generic_quality_checklist.md:248-289
- Total: 20 checklist items (within specified 15-25 range)

**AC 2: Items answerable from typical paper content** ✓
- All items reference standard paper sections (Methods, Results)
- No supplementary materials required
- Explicitly documented in About section (generic_quality_checklist.md:15-25)
- Verified: Each item answerable from typical research paper

**AC 3: Low/Medium/High risk guidance** ✓
- All 20 items include structured rating guidance
- Consistent format across all items
- Clear, actionable criteria for each rating level

**AC 4: Formatted for Microscope integration** ✓
- Clear markdown structure (headers, bullets)
- Integration guidance provided (generic_quality_checklist.md:41-68, 327-371)
- Copy-paste friendly format verified
- YAML output format documented

**AC 5: Phase 2 documentation** ✓
- MVP baseline explanation (generic_quality_checklist.md:12-25)
- Future discipline-specific modules documented (generic_quality_checklist.md:434-466)
- Table showing planned modules: RoB2, ROBINS-I, Campbell, GRADE, JBI

**AC 6: Easy modification** ✓
- Customization guidance in "How to Use" section (generic_quality_checklist.md:59-67)
- Comprehensive modification guide (generic_quality_checklist.md:469-500)
- Step-by-step instructions for creating custom checklists

**AC 7: Example quality assessment** ✓
- Complete example using hypothetical mindfulness RCT (generic_quality_checklist.md:374-431)
- All 5 domains rated with justifications
- Overall quality synthesis demonstrated
- YAML format example provided

### Integration Verification

**Alignment with DataCard Template (Story 1.2):**
- ✓ YAML frontmatter format matches data_card.md structure
- ✓ Checklist module ID follows convention: `generic_v1.0`
- ✓ Domain field names use snake_case consistently
- ✓ Rating values use lowercase: "low", "medium", "high"

**Alignment with QualityAssessment Model (data-models.md):**
- ✓ `checklist_module: String` → "generic_v1.0"
- ✓ `scores: Dict[String, Any]` → Domain-specific scores
- ✓ `overall_quality: Enum["high", "medium", "low"]` → Correct enum values
- ✓ Structure fully compatible with Model 8 specification

**Three-Color Labeling Integration:**
- ✓ Integration with 🟢🟡🔴 system documented (generic_quality_checklist.md:351-370)
- ✓ Examples show how to document quality justifications with source labels

### Improvements Checklist

All work completed during development. No additional improvements needed.

- [x] All 5 methodological domains implemented comprehensively
- [x] All 20 checklist items include Low/Medium/High risk guidance
- [x] Integration guidance for Microscope (Story 1.4) provided
- [x] Example quality assessment with realistic scenario included
- [x] Phase 2 roadmap documented
- [x] Modification guide for custom checklists provided
- [x] Version metadata and changelog included
- [x] YAML format verified against data models
- [x] Cross-platform compatibility ensured
- [x] Manual validation checklist completed

### Security Review

N/A - Documentation only, no security concerns.

### Performance Considerations

N/A - Documentation only, no performance concerns.

### Documentation Quality Highlights

**Exceptional Strengths:**

1. **Comprehensive Domain Coverage:** All 5 fundamental methodological domains (selection bias, measurement validity, confounding control, attrition/missing data, reporting transparency) thoroughly documented with 4 items each

2. **Cross-Disciplinary Applicability:** Checklist successfully abstracts quality assessment principles that work across disciplines (psychology, medicine, education, etc.)

3. **Practical Usability:** Clear rating guidance makes checklist immediately usable by researchers without extensive methodological training

4. **Forward Compatibility:** Version control and module naming convention support evolution and discipline-specific extensions

5. **Educational Design:** Checklist teaches research quality principles, not just provides a checklist - excellent for researcher skill development

6. **Integration-Ready:** Clear guidance for Story 1.4 Microscope prompt integration with YAML format examples

### Files Modified During Review

None. No modifications were necessary - the deliverable is complete and correct as implemented.

### Gate Status

**Gate:** PASS → docs/qa/gates/1.3-develop-generic-quality-checklist.yml

**Rationale:** All 7 acceptance criteria fully satisfied. Documentation is comprehensive, well-structured, and integration-ready. No issues, concerns, or technical debt identified. Exemplary quality warranting immediate progression to Story 1.4.

### Recommended Status

**✓ Ready for Done**

Story 1.3 is complete and ready to be marked as Done. The generic quality checklist is immediately usable and ready for integration into the Microscope prompt template in Story 1.4.

**No changes required.** Developer may proceed directly to Story 1.4.
